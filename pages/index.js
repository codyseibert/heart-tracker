import Head from 'next/head';
import styles from '../styles/Home.module.css';

export default function Home() {
  const handleSubmit = (event) => {
    event.preventDefault();
    const formData = new FormData(event.currentTarget);
    fetch('/api/entries', {
      method: 'POST',
      body: JSON.stringify({
        isDairy: formData.get('isDairy'),
        isSalty: formData.get('isSalty'),
        symptoms: formData.get('symptoms'),
      }),
      headers: {
        'Content-Type': 'application/json',
      },
    });
  };

  return (
    <div className={styles.container}>
      <Head>
        <title>Create Next App</title>
        <meta
          name="description"
          content="Generated by create next app"
        />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <form
          className={styles.symptomsForm}
          onSubmit={handleSubmit}
        >
          <h3>Symptoms</h3>
          <label>
            <input type="radio" value="3" name="symptoms" />
            Feeling good
          </label>

          <label>
            <input type="radio" value="2" name="symptoms" />
            Average
          </label>

          <label>
            <input type="radio" value="1" name="symptoms" />
            Bad
          </label>

          <h3>Data Points</h3>
          <label>
            <input
              name="isDairy"
              type="checkbox"
              value="false"
            />
            Did you have dairy today?
          </label>

          <label>
            <input
              name="isSalty"
              type="checkbox"
              value="false"
            />
            Did you have a lot of salt today?
          </label>

          <button type="submit">Save</button>
        </form>
      </main>
    </div>
  );
}
